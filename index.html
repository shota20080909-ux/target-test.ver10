<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ•™å¸«ç”¨ å˜èªãƒ†ã‚¹ãƒˆç™»éŒ²ï¼ˆå˜å…ƒåˆ¥ï¼‰</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>æ•™å¸«ç”¨ å˜èªãƒ†ã‚¹ãƒˆç™»éŒ²ï¼ˆå˜å…ƒåˆ¥ï¼‰</h1>

    <label for="unitName">å˜å…ƒåï¼š</label>
    <input type="text" id="unitName" placeholder="ä¾‹ï¼šLesson1, UnitA ãªã©">

    <textarea id="wordInput" placeholder="æ—¥æœ¬èª:è‹±èª ã®å½¢å¼ã§å…¥åŠ›ï¼ˆ1è¡Œ1å•ï¼‰"></textarea>
    <button id="saveWords">å˜å…ƒã«ä¿å­˜</button>

    <h2>ç™»éŒ²æ¸ˆã¿å˜å…ƒä¸€è¦§</h2>
    <ul id="unitList"></ul>

    <a href="student.html" class="student-link">ğŸ‘‰ ç”Ÿå¾’ç”¨ãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰</a>
  </div>

  <script>
    const unitNameInput = document.getElementById('unitName');
    const wordInput = document.getElementById('wordInput');
    const saveBtn = document.getElementById('saveWords');
    const unitList = document.getElementById('unitList');

    function loadUnits() {
      const allUnits = JSON.parse(localStorage.getItem('units')) || {};
      unitList.innerHTML = '';

      Object.keys(allUnits).forEach(unit => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${unit}</strong>ï¼ˆ${allUnits[unit].length}å•ï¼‰`;
        unitList.appendChild(li);
      });
    }

    saveBtn.addEventListener('click', () => {
      const unit = unitNameInput.value.trim();
      if (!unit) {
        alert('å˜å…ƒåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
        return;
      }

      const lines = wordInput.value.trim().split('\n');
      const words = lines.map(line => {
        const [jp, en] = line.split(':').map(s => s.trim());
        return { jp, en };
      }).filter(w => w.jp && w.en);

      if (words.length === 0) {
        alert('å˜èªã‚’1ã¤ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
        return;
      }

      const allUnits = JSON.parse(localStorage.getItem('units')) || {};
      allUnits[unit] = words;
      localStorage.setItem('units', JSON.stringify(allUnits));

      alert(`å˜å…ƒã€Œ${unit}ã€ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼`);
      unitNameInput.value = '';
      wordInput.value = '';
      loadUnits();
    });

    loadUnits();
  </script>
</body>
</html>